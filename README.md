TODO:
 - Organize code to files
 